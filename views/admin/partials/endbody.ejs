<script src="/public/bootstrap-material/js/material.min.js"></script>
<script src="/public/bootstrap-material/js/ripples.min.js"></script>
<script>
    var full = '//'+location.hostname+(location.port ? ':'+location.port: '');
    var websocket = new WebSocket(full+"/"+docCookies.getItem("enviroment"));

    websocket.onData = function(datastring){
        lastMessage(datastring);
    };

    var connectionWarning;

    websocket.onStatusChange = function(status){
        var type;
        var timeout;
        switch(status){
            case "connected":
                type = "success";
                timeout = 1000;
                break;
            case "timeout":
                type = "warning";
                break;
            case "reconnecting":
                type = "info";
                break;
            case "reconnected":
                type = "success";
                timeout = 1000;
                break;
        }
        console.log("Status Changed: " + status);
        if(typeof connectionWarning === "undefined"){
            connectionWarning = showWarning("Connection Status: " + status, type, timeout);
        }else{
            updateWarning(connectionWarning, "Connection Status: " + status, type, timeout)
        }
    };

</script>